# :gear: 기능 명세

```
🎯 12월 이벤트 플래너를 개발한다.
```

<br>

### :bento: 메뉴

```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```

<br>

### :one: 사용자 입력

- 시작 멘트를 출력한다.

  ```
  안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
  ```

<br>

- 방문할 날짜를 입력받는다.

  ```
  12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
  3
  ```

  - 입력값은 아래의 조건을 충족해야 한다.

    ✦ 숫자인가?<br>
    ✦ 숫자라면 1 이상 31 이하인가?

  - 미충족시 `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`를 출력한다.

<br>

- 주문할 메뉴와 개수를 입력받는다.

  ```
  주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
  티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
  ```

  - 입력값은 아래의 조건을 충족해야 한다.<br>

    ✦ `메뉴-숫자`의 형태인가?<br>
    ✦ `-`의 좌우에 띄어쓰기가 존재하지 않는가?

    ✦ 메뉴가 존재하는가?<br>
    ✦ 중복된 메뉴를 입력하진 않았는가?<br>
    ✦ 음료만 주문하지는 않았는가?

    ✦ 개수가 숫자 인가?<br>
    ✦ 총 개수가 20 이하인가?

  - 미충족시 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`를 출력한다.

<br>

### :two: 주문 내역 출력

- 주문 확인 전 멘트를 출력한다.

  ```
  12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
  ```

<br>

- 주문 메뉴를 출력한다.

  ```
  <주문 메뉴>
  티본스테이크 1개
  바비큐립 1개
  초코케이크 2개
  제로콜라 1개
  ```

<br>

- 할인 전 총주문 금액을 출력을 계산하고 출력한다.

  금액 출력시 `,` 에 주의한다.

  ```
  <할인 전 총주문 금액>
  142,000원
  ```

<br>

### :three: 혜택 내역 확인

- 증정 혜택을 확인한다.

  할인 전 총주문 금액이 `120000` 이상인 경우 `샴페인 - 25000` 이 증정된다.

<br>

- 할인 혜택을 확인한다.

  ✦ 크리스마스 디데이 할인 (1일~25일): `1000 + (날짜-1) * 100` 할인<br>
  ✦ 평일 할인 (일-목): `디저트 메뉴 개수 * 2023` 할인<br>
  ✦ 주말 할인 (금-토): `메인 메뉴 개수 * 2023` 할인<br>
  ✦ 특별 할인 : (일, 크리스마스 당일): `1000` 할인

<br>

- `총 혜택 금액` 과 `할인 후 예상 결제 금액`을 확인한다.

  ✦ `총 혜택 금액` 은 `할인 혜택 금액 + 증정 혜택 금액` 으로 계산된다.<br>
  ✦ `할인 후 예상 결제 금액` 은 `할인 전 총 주문 금액 - 할인 혜택 금액` 으로 계산된다.

<br>

- 할인 뱃지를 확인한다.

  총 혜택 금액에 따라 아래와 같이 뱃지를 부여한다.

  ```
  5천 원 이상: 별
  1만 원 이상: 트리
  2만 원 이상: 산타
  ```

<br>

### :four: 혜택 내역 출력

- 증정 메뉴를 출력한다.

  ```
  <증정 메뉴>
  샴페인 1개
  ```

<br>

- 할인 내역을 출력한다.

  ```
  <혜택 내역>
  크리스마스 디데이 할인: -1,200원
  평일 할인: -4,046원
  특별 할인: -1,000원
  증정 이벤트: -25,000원
  ```

<br>

- 총 혜택 금액, 할인 후 예상 결제 금액을 출력한다.

  ```
  <총혜택 금액>
  -31,246원

  <할인 후 예상 결제 금액>
  135,754원
  ```

<br>

- 뱃지를 출력한다.

  ```
  <12월 이벤트 배지>
  산타
  ```

<br>

# :monocle_face: 공통 피드백 분석

```
🎯 클래스를 분리하기
```

<br>

- 예외 상황에 대해 꾸준히 고민하기

  한번에 모두 잡을 수 없다. 꾸준히 처리해나가자

<br>

- 비즈니스 로직과 UI 로직을 분리하기

<br>

- 객체는 객체스럽게 사용하기

  - 객체를 생성하는 기준을 정하자
    객체는 validation이 필요한 값들을 기준으로 생성한다.

  - 객체의 상태는 본인이 조절한다.
    외부의 상태 접근을 제한한다. 또한 `getter` 보다는 객체 자체가 일하도록 한다.

  - 필드의 수를 줄인다.

<br>

- 테스트하기

  - 성공 케이스 뿐만 아니라 예외에 대해서도 테스트한다

  - 테스트 코드도 더 효율적으로 리팩토링 해나간다.

  - 테스트를 통과하기 위해 구현을 변경해서는 안된다.

  - 테스트의 의미가 잘들어나도록 테스트한다.
